// tslint:disable-next-line:max-line-length
export const worker = `!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n=new Map;addEventListener("message",function(e){var t=e.data;try{if("encode"===t.method){var r=t.id,i=t.params.recordingId,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bitRate,n=void 0===r?16:r,i=t.sampleRate,o=void 0===i?44100:i,a=n>>3,s=e.length,u=e[0].length,d=new ArrayBuffer(u*s*a+44),f=new DataView(d);return f.setUint32(0,1380533830),f.setUint32(4,d.byteLength-8,!0),f.setUint32(8,1463899717),f.setUint32(12,1718449184),f.setUint32(16,16,!0),f.setUint16(20,1,!0),f.setUint16(22,s,!0),f.setUint32(24,o,!0),f.setUint32(28,o*s*a,!0),f.setUint16(32,s*a,!0),f.setUint16(34,n,!0),f.setUint32(36,1684108385),f.setUint32(40,d.byteLength-44,!0),e.forEach(function(e,t){for(var r=44+t*a,n=u,i=0;i<n;i+=1){var o=r+i*s*a,d=Math.max(-1,Math.min(e[i],1));f.setUint16(o,d<0?32768*d:32767*d,!0)}}),d}(n.get(i));n.delete(i),postMessage({error:null,id:r,result:{arrayBuffer:o}})}else{if("record"!==t.method)throw new Error('The given method "'+t.method+'" is not supported');var a=t.id,s=t.params,u=s.recordingId,d=s.typedArrays,f=n.get(u);void 0===f?n.set(u,d):n.set(u,d.map(function(e,t){var r=f[t];return function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=new Uint8Array(r.reduce(function(e,t){return e+t.byteLength},0));return r.reduce(function(e,t){return i.set(new Uint8Array(t.buffer),e),e+t.byteLength},0),new e(i.buffer)}(Float32Array,r,e)})),postMessage({error:null,id:a,result:null})}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}})}]);`;
