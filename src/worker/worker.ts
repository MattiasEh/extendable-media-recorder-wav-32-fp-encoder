// tslint:disable-next-line:max-line-length
export const worker = `!function(){"use strict";var e=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=new Uint8Array(r.reduce(function(e,t){return e+t.byteLength},0));return r.reduce(function(e,t){return i.set(new Uint8Array(t.buffer),e),e+t.byteLength},0),new e(i.buffer)},t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bitRate,n=void 0===r?16:r,i=t.sampleRate,s=void 0===i?44100:i,a=n>>3,o=e.length,d=e[0].length,u=new ArrayBuffer(d*o*a+44),f=new DataView(u);return f.setUint32(0,1380533830),f.setUint32(4,u.byteLength-8,!0),f.setUint32(8,1463899717),f.setUint32(12,1718449184),f.setUint32(16,16,!0),f.setUint16(20,1,!0),f.setUint16(22,o,!0),f.setUint32(24,s,!0),f.setUint32(28,s*o*a,!0),f.setUint16(32,o*a,!0),f.setUint16(34,n,!0),f.setUint32(36,1684108385),f.setUint32(40,u.byteLength-44,!0),e.forEach(function(e,t){for(var r=44+t*a,n=d,i=0;i<n;i+=1){var s=r+i*o*a,u=Math.max(-1,Math.min(e[i],1));f.setUint16(s,u<0?32768*u:32767*u,!0)}}),u},r=new Map;addEventListener("message",function(n){var i=n.data;try{if("encode"===i.method){var s=i.id,a=i.params.recordingId,o=r.get(a),d=t(o);r.delete(a),postMessage({error:null,id:s,result:{arrayBuffer:d}})}else{if("record"!==i.method)throw new Error('The given method "'+i.method+'" is not supported');var u=i.id,f=i.params,g=f.recordingId,l=f.typedArrays,h=r.get(g);void 0===h?r.set(g,l):r.set(g,l.map(function(t,r){var n=h[r];return e(Float32Array,n,t)})),postMessage({error:null,id:u,result:null})}}catch(e){postMessage({error:{message:e.message},id:i.id,result:null})}})}();`;
